<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DontPark.com - Skip Expensive Parking, Fix Your Car Instead</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #1e293b;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .logo { font-size: 2.5rem; font-weight: 800; }
        
        .claude-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255,255,255,0.15);
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
        }
        
        .tagline { font-size: 1.1rem; opacity: 0.95; }
        
        .content { padding: 40px 30px; }
        
        .status-banner {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            text-align: center;
            font-weight: 600;
        }
        
        .savings-calculator {
            background: linear-gradient(135deg, #1e293b, #334155);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 40px;
            color: white;
        }
        
        .calculator-header { text-align: center; margin-bottom: 30px; }
        .calculator-title { font-size: 1.6rem; font-weight: 700; margin-bottom: 8px; }
        .calculator-subtitle { color: #cbd5e1; font-size: 1rem; }
        
        .slider-section { margin-bottom: 30px; }
        .slider-label { font-size: 1.2rem; font-weight: 600; margin-bottom: 20px; text-align: center; }
        
        .slider-display {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .slider-value { font-size: 2.5rem; font-weight: 700; color: #fbbf24; margin-bottom: 8px; }
        .slider-description { color: #cbd5e1; font-size: 1rem; }
        
        .custom-slider {
            width: 100%;
            height: 10px;
            border-radius: 5px;
            background: linear-gradient(90deg, #10b981 0%, #f59e0b 50%, #ef4444 100%);
            outline: none;
            -webkit-appearance: none;
            cursor: pointer;
            margin-bottom: 20px;
        }
        
        .custom-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        
        .form-section { margin-bottom: 40px; }
        .section-title { font-size: 1.4rem; font-weight: 700; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }
        .form-group { margin-bottom: 25px; }
        .form-label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 0.95rem; }
        
        .form-input {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        
        .primary-button {
            width: 100%;
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            border: none;
            padding: 18px 24px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s ease;
        }
        
        .primary-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(79, 70, 229, 0.3);
        }
        
        .ai-chat-section {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 2px solid #0ea5e9;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
        }
        
        .ai-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .ai-avatar {
            width: 50px;
            height: 50px;
            background: #0ea5e9;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.4rem;
        }
        
        .ai-info { flex: 1; }
        .ai-name { font-weight: 700; color: #0c4a6e; margin-bottom: 4px; font-size: 1.1rem; }
        .ai-subtitle { font-size: 0.9rem; color: #64748b; }
        
        .ai-branding {
            text-align: right;
            font-size: 0.75rem;
            color: #64748b;
        }
        
        .chat-messages {
            max-height: 350px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        
        .message {
            margin-bottom: 15px;
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .claude-message {
            background: white;
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            border-left: 4px solid #0ea5e9;
        }
        
        .user-message {
            background: #f0f9ff;
            border-radius: 15px;
            padding: 15px;
            border-left: 4px solid #4f46e5;
            margin-left: 25px;
        }
        
        .message-content {
            color: #1e293b;
            line-height: 1.6;
            font-size: 0.95rem;
        }
        
        .chat-input-container {
            display: flex;
            gap: 12px;
            align-items: stretch;
        }
        
        .chat-input {
            flex: 1;
            padding: 14px 16px;
            border: 2px solid #d1d5db;
            border-radius: 12px;
            font-size: 0.95rem;
            resize: none;
            min-height: 50px;
            font-family: inherit;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: #0ea5e9;
            box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
        }
        
        .chat-send-btn {
            background: #0ea5e9;
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95rem;
            min-width: 80px;
            transition: all 0.2s ease;
        }
        
        .chat-send-btn:hover { 
            background: #0284c7; 
            transform: translateY(-1px);
        }
        .chat-send-btn:disabled { background: #9ca3af; cursor: not-allowed; }
        
        .service-recommendation {
            background: #f0f9ff;
            border: 2px solid #4f46e5;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            display: none;
        }
        
        .recommendation-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 15px;
            font-weight: 700;
            color: #1e40af;
            font-size: 1.1rem;
        }
        
        .recommendation-content {
            color: #1e293b;
            line-height: 1.7;
            margin-bottom: 20px;
        }
        
        .estimated-cost {
            background: #dcfce7;
            border: 2px solid #16a34a;
            border-radius: 12px;
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .cost-label {
            color: #15803d;
            font-weight: 600;
        }
        
        .cost-amount {
            color: #15803d;
            font-size: 1.2rem;
            font-weight: 700;
        }
        
        .success-message {
            background: #dcfce7;
            border: 2px solid #16a34a;
            color: #15803d;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-weight: 600;
            display: none;
            margin-top: 20px;
        }
        
        @media (max-width: 768px) {
            body { padding: 10px; }
            .content { padding: 30px 20px; }
            .form-row { grid-template-columns: 1fr; }
            .savings-calculator { padding: 20px; }
            .header-top { flex-direction: column; gap: 15px; }
            .chat-input-container { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-top">
                <div class="logo">dontpark.com</div>
                <div class="claude-badge">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="color: white;">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                    </svg>
                    <span style="color: white; font-weight: 600;">Powered by Claude AI</span>
                </div>
            </div>
            <div class="tagline">Skip Expensive Parking - Fix Your Car Instead</div>
        </header>
        
        <main class="content">
            <div class="status-banner">
                <span>✅ Connected to Victory Nissan - Ready to book your service!</span>
            </div>
            
            <section class="savings-calculator">
                <div class="calculator-header">
                    <div class="calculator-title">See How Much You Could Save</div>
                    <div class="calculator-subtitle">Adjust the sliders to see real parking costs vs. car maintenance</div>
                </div>
                
                <div class="slider-section">
                    <div class="slider-label">🅿️ How many days will you park at the airport?</div>
                    <div class="slider-display">
                        <div class="slider-value" id="parkingCost">$75</div>
                        <div class="slider-description" id="parkingDays">3 days of airport parking</div>
                    </div>
                    <input type="range" id="parkingSlider" min="1" max="14" value="3" class="custom-slider">
                </div>
                
                <div class="slider-section">
                    <div class="slider-label">🔧 What could you fix for that money?</div>
                    <div class="slider-display">
                        <div class="slider-value" id="repairCost">$180</div>
                        <div class="slider-description" id="repairService">Brake pad replacement</div>
                    </div>
                    <input type="range" id="repairSlider" min="0" max="100" value="30" class="custom-slider">
                </div>
            </section>
            
            <form id="bookingForm">
                <section class="form-section">
                    <h2 class="section-title">
                        <span>👤</span> Contact Information
                    </h2>
                    
                    <div class="form-group">
                        <label class="form-label">Full Name *</label>
                        <input type="text" name="fullName" class="form-input" placeholder="Enter your full name" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Phone Number *</label>
                            <input type="tel" name="phone" class="form-input" placeholder="(615) 555-0123" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email Address *</label>
                            <input type="email" name="email" class="form-input" placeholder="your@email.com" required>
                        </div>
                    </div>
                </section>
                
                <section class="form-section">
                    <h2 class="section-title">
                        <span>✈️</span> Flight Information
                    </h2>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Departure Date *</label>
                            <input type="date" name="departureDate" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Flight Departure Time *</label>
                            <input type="time" name="departureTime" class="form-input" value="16:15" required>
                        </div>
                    </div>
                </section>
                
                <section class="form-section">
                    <h2 class="section-title">
                        <span>🚗</span> Vehicle Information
                    </h2>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Year *</label>
                            <input type="number" name="year" class="form-input" placeholder="2020" min="1990" max="2025" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Make & Model *</label>
                            <input type="text" name="makeModel" class="form-input" placeholder="Honda Accord" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">License Plate *</label>
                            <input type="text" name="licensePlate" class="form-input" placeholder="TN ABC123" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Color *</label>
                            <input type="text" name="color" class="form-input" placeholder="Silver" required>
                        </div>
                    </div>
                </section>
                
                <section class="ai-chat-section">
                    <div class="ai-header">
                        <div class="ai-avatar">
                            <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.94-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
                            </svg>
                        </div>
                        <div class="ai-info">
                            <div class="ai-name">Claude AI - Your Car Expert</div>
                            <div class="ai-subtitle">Tell me what's happening with your car for personalized service recommendations</div>
                        </div>
                        <div class="ai-branding">
                            <strong>Powered by</strong><br>
                            <span style="color: #0ea5e9; font-weight: 700;">Anthropic</span>
                        </div>
                    </div>
                    
                    <div class="chat-messages" id="chatMessages">
                        <div class="message claude-message">
                            <div class="message-content">
                                Hi! I'm Claude, your automotive expert. What's happening with your car? You can describe symptoms like:
                                <br><br>
                                • "Steering is pulling to the left"<br>
                                • "Brakes make a noise when I press them"<br>
                                • "My right power mirror doesn't work"<br>
                                • "Check engine light is on"
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-input-container">
                        <textarea class="chat-input" id="claudeInput" placeholder="Describe what's happening with your car..." rows="2"></textarea>
                        <button type="button" class="chat-send-btn" id="chatSendBtn">Send</button>
                    </div>
                    
                    <div id="serviceRecommendation" class="service-recommendation">
                        <div class="recommendation-header">
                            <span>🔧</span>
                            <strong>Claude AI's Recommendation</strong>
                            <span style="margin-left: auto; font-size: 0.8rem; color: #64748b;">Powered by Anthropic</span>
                        </div>
                        <div id="recommendationContent" class="recommendation-content"></div>
                        <div class="estimated-cost">
                            <span class="cost-label">Estimated Cost:</span>
                            <span id="costAmount" class="cost-amount">$0</span>
                        </div>
                    </div>
                </section>
                
                <button type="submit" class="primary-button">
                    📅 Book Service Appointment
                </button>
                
                <div id="successMessage" class="success-message">
                    <strong>🎉 Booking Confirmed!</strong><br>
                    Thank you! Your service appointment has been booked. You'll receive a confirmation email shortly with pickup details.
                </div>
            </form>
        </main>
    </div>

    <script>
        // Repair options for calculator
        var repairs = [
            {cost: 15, desc: 'Car air freshener'},
            {cost: 25, desc: 'Replace windshield wipers'},
            {cost: 45, desc: 'Standard oil change'},
            {cost: 75, desc: 'Battery test & cleaning'},
            {cost: 95, desc: 'Tire rotation & balance'},
            {cost: 125, desc: 'Brake inspection'},
            {cost: 180, desc: 'Brake pad replacement'},
            {cost: 220, desc: 'Transmission service'},
            {cost: 350, desc: 'Engine tune-up'},
            {cost: 450, desc: 'AC repair & recharge'},
            {cost: 1200, desc: 'Transmission repair'},
            {cost: 3500, desc: 'Engine rebuild'}
        ];

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded, initializing sliders...');
            
            var parkingSlider = document.getElementById('parkingSlider');
            var repairSlider = document.getElementById('repairSlider');
            
            if (!parkingSlider || !repairSlider) {
                console.error('Sliders not found!');
                return;
            }
            
            // Parking cost calculator
            parkingSlider.addEventListener('input', function() {
                console.log('Parking slider moved to:', this.value);
                var days = parseInt(this.value);
                var cost = days * 25; // $25 per day airport parking
                document.getElementById('parkingCost').textContent = '
            
            // Set minimum date to today
            var today = new Date().toISOString().split('T')[0];
            document.querySelector('input[name="departureDate"]').setAttribute('min', today);
            
            // Claude AI chat functionality
            document.getElementById('chatSendBtn').addEventListener('click', handleChatSend);
            document.getElementById('claudeInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    handleChatSend();
                }
            });
            
            // Form submission
            document.getElementById('bookingForm').addEventListener('submit', handleFormSubmit);
        });
        
        // Handle chat message sending
        function handleChatSend() {
            var input = document.getElementById('claudeInput');
            var message = input.value.trim();
            if (!message) return;
            
            // Add user message to chat
            addMessage(message, 'user');
            input.value = '';
            
            // Simulate Claude thinking
            var sendBtn = document.getElementById('chatSendBtn');
            sendBtn.disabled = true;
            sendBtn.textContent = 'Thinking...';
            
            // Generate Claude response after delay
            setTimeout(function() {
                var response = getClaudeResponse(message);
                addMessage(response.message, 'claude');
                
                // Show service recommendation if applicable
                if (response.recommendation) {
                    showServiceRecommendation(response.recommendation);
                }
                
                sendBtn.disabled = false;
                sendBtn.textContent = 'Send';
            }, 1500);
        }
        
        // Add message to chat
        function addMessage(message, sender) {
            var chat = document.getElementById('chatMessages');
            var messageDiv = document.createElement('div');
            messageDiv.className = 'message ' + sender + '-message';
            messageDiv.innerHTML = '<div class="message-content">' + message + '</div>';
            chat.appendChild(messageDiv);
            chat.scrollTop = chat.scrollHeight;
        }
        
        // Generate Claude response based on user input
        function getClaudeResponse(message) {
            var lower = message.toLowerCase();
            
            if (lower.includes('brake') || lower.includes('noise') || lower.includes('squeal') || lower.includes('grind')) {
                return {
                    message: 'Brake noises like squealing, grinding, or squeaking often indicate worn brake pads or other brake system issues. This is a safety concern that should be addressed promptly before your trip.',
                    recommendation: {
                        service: 'Brake Inspection & Pad Replacement',
                        description: 'Based on your description, I recommend a comprehensive brake inspection. If the pads are worn, we can replace them while you\'re traveling. This ensures your safety and gives you peace of mind.',
                        cost: 180
                    }
                };
            } else if (lower.includes('steering') || lower.includes('pull') || lower.includes('vibrat')) {
                return {
                    message: 'If your car pulls to one side while driving or the steering wheel vibrates, this usually indicates an alignment issue or uneven tire wear. This can affect your safety and tire longevity.',
                    recommendation: {
                        service: 'Wheel Alignment & Tire Inspection',
                        description: 'We\'ll check your alignment and inspect your tires for uneven wear patterns. If needed, we can perform an alignment to ensure straight, safe driving.',
                        cost: 95
                    }
                };
            } else if (lower.includes('mirror') || lower.includes('power mirror') || lower.includes('side mirror')) {
                return {
                    message: 'Power mirror issues are often caused by faulty motors, wiring problems, or switch malfunctions. While not a safety issue, it affects visibility and convenience.',
                    recommendation: {
                        service: 'Power Mirror Diagnosis & Repair',
                        description: 'We\'ll diagnose the mirror issue and repair or replace the faulty components to restore full functionality.',
                        cost: 125
                    }
                };
            } else if (lower.includes('oil') || lower.includes('change') || lower.includes('maintenance')) {
                return {
                    message: 'Regular oil changes are crucial for engine health. If it\'s been 6+ months or 5,000+ miles since your last oil change, it\'s definitely time for fresh oil.',
                    recommendation: {
                        service: 'Full Service Oil Change',
                        description: 'We\'ll perform a complete oil change with high-quality oil and a new filter. Perfect timing while you\'re away on your trip!',
                        cost: 45
                    }
                };
            } else if (lower.includes('check engine') || lower.includes('light') || lower.includes('warning')) {
                return {
                    message: 'A check engine light should be diagnosed promptly. It could be something simple like a loose gas cap, or something more serious that needs attention.',
                    recommendation: {
                        service: 'Diagnostic Scan & Inspection',
                        description: 'We\'ll run a comprehensive diagnostic scan to identify the exact issue triggering your check engine light.',
                        cost: 125
                    }
                };
            } else if (lower.includes('ac') || lower.includes('air') || lower.includes('cool') || lower.includes('heat')) {
                return {
                    message: 'AC problems are common, especially before summer travel. It could be low refrigerant, a bad compressor, or other issues that need attention.',
                    recommendation: {
                        service: 'AC System Diagnosis & Repair',
                        description: 'We\'ll test your AC system, check refrigerant levels, and identify any components that need repair or replacement.',
                        cost: 450
                    }
                };
            } else {
                return {
                    message: 'Thanks for the information! Based on what you\'ve described, I recommend having one of our certified technicians take a look for a proper diagnosis.',
                    recommendation: {
                        service: 'General Vehicle Inspection',
                        description: 'Our technicians will perform a comprehensive inspection of your vehicle to identify any issues and provide recommendations.',
                        cost: 75
                    }
                };
            }
        }
        
        // Show service recommendation box
        function showServiceRecommendation(recommendation) {
            document.getElementById('recommendationContent').innerHTML = 
                '<strong>' + recommendation.service + '</strong><br><br>' + recommendation.description;
            document.getElementById('costAmount').textContent = '$' + recommendation.cost;
            document.getElementById('serviceRecommendation').style.display = 'block';
        }
        
        // Handle form submission
        function handleFormSubmit(event) {
            event.preventDefault();
            
            // Show success message
            document.getElementById('successMessage').style.display = 'block';
            
            // Hide form
            event.target.style.display = 'none';
            
            // Scroll to success message
            document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
            
            // In a real implementation, you would:
            // - Send data to your backend
            // - Save to Supabase database
            // - Send confirmation emails
            // - Integrate with shop management system
        }
    </script>
</body>
</html> + cost;
                document.getElementById('parkingDays').textContent = days + ' day' + (days > 1 ? 's' : '') + ' of airport parking';
            });
            
            // Repair service calculator
            repairSlider.addEventListener('input', function() {
                console.log('Repair slider moved to:', this.value);
                var value = parseInt(this.value);
                var index = Math.floor((value / 100) * (repairs.length - 1));
                var repair = repairs[index];
                document.getElementById('repairCost').textContent = '
            
            // Set minimum date to today
            var today = new Date().toISOString().split('T')[0];
            document.querySelector('input[name="departureDate"]').setAttribute('min', today);
            
            // Claude AI chat functionality
            document.getElementById('chatSendBtn').addEventListener('click', handleChatSend);
            document.getElementById('claudeInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    handleChatSend();
                }
            });
            
            // Form submission
            document.getElementById('bookingForm').addEventListener('submit', handleFormSubmit);
        });
        
        // Handle chat message sending
        function handleChatSend() {
            var input = document.getElementById('claudeInput');
            var message = input.value.trim();
            if (!message) return;
            
            // Add user message to chat
            addMessage(message, 'user');
            input.value = '';
            
            // Simulate Claude thinking
            var sendBtn = document.getElementById('chatSendBtn');
            sendBtn.disabled = true;
            sendBtn.textContent = 'Thinking...';
            
            // Generate Claude response after delay
            setTimeout(function() {
                var response = getClaudeResponse(message);
                addMessage(response.message, 'claude');
                
                // Show service recommendation if applicable
                if (response.recommendation) {
                    showServiceRecommendation(response.recommendation);
                }
                
                sendBtn.disabled = false;
                sendBtn.textContent = 'Send';
            }, 1500);
        }
        
        // Add message to chat
        function addMessage(message, sender) {
            var chat = document.getElementById('chatMessages');
            var messageDiv = document.createElement('div');
            messageDiv.className = 'message ' + sender + '-message';
            messageDiv.innerHTML = '<div class="message-content">' + message + '</div>';
            chat.appendChild(messageDiv);
            chat.scrollTop = chat.scrollHeight;
        }
        
        // Generate Claude response based on user input
        function getClaudeResponse(message) {
            var lower = message.toLowerCase();
            
            if (lower.includes('brake') || lower.includes('noise') || lower.includes('squeal') || lower.includes('grind')) {
                return {
                    message: 'Brake noises like squealing, grinding, or squeaking often indicate worn brake pads or other brake system issues. This is a safety concern that should be addressed promptly before your trip.',
                    recommendation: {
                        service: 'Brake Inspection & Pad Replacement',
                        description: 'Based on your description, I recommend a comprehensive brake inspection. If the pads are worn, we can replace them while you\'re traveling. This ensures your safety and gives you peace of mind.',
                        cost: 180
                    }
                };
            } else if (lower.includes('steering') || lower.includes('pull') || lower.includes('vibrat')) {
                return {
                    message: 'If your car pulls to one side while driving or the steering wheel vibrates, this usually indicates an alignment issue or uneven tire wear. This can affect your safety and tire longevity.',
                    recommendation: {
                        service: 'Wheel Alignment & Tire Inspection',
                        description: 'We\'ll check your alignment and inspect your tires for uneven wear patterns. If needed, we can perform an alignment to ensure straight, safe driving.',
                        cost: 95
                    }
                };
            } else if (lower.includes('mirror') || lower.includes('power mirror') || lower.includes('side mirror')) {
                return {
                    message: 'Power mirror issues are often caused by faulty motors, wiring problems, or switch malfunctions. While not a safety issue, it affects visibility and convenience.',
                    recommendation: {
                        service: 'Power Mirror Diagnosis & Repair',
                        description: 'We\'ll diagnose the mirror issue and repair or replace the faulty components to restore full functionality.',
                        cost: 125
                    }
                };
            } else if (lower.includes('oil') || lower.includes('change') || lower.includes('maintenance')) {
                return {
                    message: 'Regular oil changes are crucial for engine health. If it\'s been 6+ months or 5,000+ miles since your last oil change, it\'s definitely time for fresh oil.',
                    recommendation: {
                        service: 'Full Service Oil Change',
                        description: 'We\'ll perform a complete oil change with high-quality oil and a new filter. Perfect timing while you\'re away on your trip!',
                        cost: 45
                    }
                };
            } else if (lower.includes('check engine') || lower.includes('light') || lower.includes('warning')) {
                return {
                    message: 'A check engine light should be diagnosed promptly. It could be something simple like a loose gas cap, or something more serious that needs attention.',
                    recommendation: {
                        service: 'Diagnostic Scan & Inspection',
                        description: 'We\'ll run a comprehensive diagnostic scan to identify the exact issue triggering your check engine light.',
                        cost: 125
                    }
                };
            } else if (lower.includes('ac') || lower.includes('air') || lower.includes('cool') || lower.includes('heat')) {
                return {
                    message: 'AC problems are common, especially before summer travel. It could be low refrigerant, a bad compressor, or other issues that need attention.',
                    recommendation: {
                        service: 'AC System Diagnosis & Repair',
                        description: 'We\'ll test your AC system, check refrigerant levels, and identify any components that need repair or replacement.',
                        cost: 450
                    }
                };
            } else {
                return {
                    message: 'Thanks for the information! Based on what you\'ve described, I recommend having one of our certified technicians take a look for a proper diagnosis.',
                    recommendation: {
                        service: 'General Vehicle Inspection',
                        description: 'Our technicians will perform a comprehensive inspection of your vehicle to identify any issues and provide recommendations.',
                        cost: 75
                    }
                };
            }
        }
        
        // Show service recommendation box
        function showServiceRecommendation(recommendation) {
            document.getElementById('recommendationContent').innerHTML = 
                '<strong>' + recommendation.service + '</strong><br><br>' + recommendation.description;
            document.getElementById('costAmount').textContent = '$' + recommendation.cost;
            document.getElementById('serviceRecommendation').style.display = 'block';
        }
        
        // Handle form submission
        function handleFormSubmit(event) {
            event.preventDefault();
            
            // Show success message
            document.getElementById('successMessage').style.display = 'block';
            
            // Hide form
            event.target.style.display = 'none';
            
            // Scroll to success message
            document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
            
            // In a real implementation, you would:
            // - Send data to your backend
            // - Save to Supabase database
            // - Send confirmation emails
            // - Integrate with shop management system
        }
    </script>
</body>
</html> + repair.cost;
                document.getElementById('repairService').textContent = repair.desc;
            });
            
            // Initialize sliders with default values
            parkingSlider.dispatchEvent(new Event('input'));
            repairSlider.dispatchEvent(new Event('input'));
            
            // Set minimum date to today
            var today = new Date().toISOString().split('T')[0];
            document.querySelector('input[name="departureDate"]').setAttribute('min', today);
            
            // Claude AI chat functionality
            document.getElementById('chatSendBtn').addEventListener('click', handleChatSend);
            document.getElementById('claudeInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    handleChatSend();
                }
            });
            
            // Form submission
            document.getElementById('bookingForm').addEventListener('submit', handleFormSubmit);
        });
        
        // Handle chat message sending
        function handleChatSend() {
            var input = document.getElementById('claudeInput');
            var message = input.value.trim();
            if (!message) return;
            
            // Add user message to chat
            addMessage(message, 'user');
            input.value = '';
            
            // Simulate Claude thinking
            var sendBtn = document.getElementById('chatSendBtn');
            sendBtn.disabled = true;
            sendBtn.textContent = 'Thinking...';
            
            // Generate Claude response after delay
            setTimeout(function() {
                var response = getClaudeResponse(message);
                addMessage(response.message, 'claude');
                
                // Show service recommendation if applicable
                if (response.recommendation) {
                    showServiceRecommendation(response.recommendation);
                }
                
                sendBtn.disabled = false;
                sendBtn.textContent = 'Send';
            }, 1500);
        }
        
        // Add message to chat
        function addMessage(message, sender) {
            var chat = document.getElementById('chatMessages');
            var messageDiv = document.createElement('div');
            messageDiv.className = 'message ' + sender + '-message';
            messageDiv.innerHTML = '<div class="message-content">' + message + '</div>';
            chat.appendChild(messageDiv);
            chat.scrollTop = chat.scrollHeight;
        }
        
        // Generate Claude response based on user input
        function getClaudeResponse(message) {
            var lower = message.toLowerCase();
            
            if (lower.includes('brake') || lower.includes('noise') || lower.includes('squeal') || lower.includes('grind')) {
                return {
                    message: 'Brake noises like squealing, grinding, or squeaking often indicate worn brake pads or other brake system issues. This is a safety concern that should be addressed promptly before your trip.',
                    recommendation: {
                        service: 'Brake Inspection & Pad Replacement',
                        description: 'Based on your description, I recommend a comprehensive brake inspection. If the pads are worn, we can replace them while you\'re traveling. This ensures your safety and gives you peace of mind.',
                        cost: 180
                    }
                };
            } else if (lower.includes('steering') || lower.includes('pull') || lower.includes('vibrat')) {
                return {
                    message: 'If your car pulls to one side while driving or the steering wheel vibrates, this usually indicates an alignment issue or uneven tire wear. This can affect your safety and tire longevity.',
                    recommendation: {
                        service: 'Wheel Alignment & Tire Inspection',
                        description: 'We\'ll check your alignment and inspect your tires for uneven wear patterns. If needed, we can perform an alignment to ensure straight, safe driving.',
                        cost: 95
                    }
                };
            } else if (lower.includes('mirror') || lower.includes('power mirror') || lower.includes('side mirror')) {
                return {
                    message: 'Power mirror issues are often caused by faulty motors, wiring problems, or switch malfunctions. While not a safety issue, it affects visibility and convenience.',
                    recommendation: {
                        service: 'Power Mirror Diagnosis & Repair',
                        description: 'We\'ll diagnose the mirror issue and repair or replace the faulty components to restore full functionality.',
                        cost: 125
                    }
                };
            } else if (lower.includes('oil') || lower.includes('change') || lower.includes('maintenance')) {
                return {
                    message: 'Regular oil changes are crucial for engine health. If it\'s been 6+ months or 5,000+ miles since your last oil change, it\'s definitely time for fresh oil.',
                    recommendation: {
                        service: 'Full Service Oil Change',
                        description: 'We\'ll perform a complete oil change with high-quality oil and a new filter. Perfect timing while you\'re away on your trip!',
                        cost: 45
                    }
                };
            } else if (lower.includes('check engine') || lower.includes('light') || lower.includes('warning')) {
                return {
                    message: 'A check engine light should be diagnosed promptly. It could be something simple like a loose gas cap, or something more serious that needs attention.',
                    recommendation: {
                        service: 'Diagnostic Scan & Inspection',
                        description: 'We\'ll run a comprehensive diagnostic scan to identify the exact issue triggering your check engine light.',
                        cost: 125
                    }
                };
            } else if (lower.includes('ac') || lower.includes('air') || lower.includes('cool') || lower.includes('heat')) {
                return {
                    message: 'AC problems are common, especially before summer travel. It could be low refrigerant, a bad compressor, or other issues that need attention.',
                    recommendation: {
                        service: 'AC System Diagnosis & Repair',
                        description: 'We\'ll test your AC system, check refrigerant levels, and identify any components that need repair or replacement.',
                        cost: 450
                    }
                };
            } else {
                return {
                    message: 'Thanks for the information! Based on what you\'ve described, I recommend having one of our certified technicians take a look for a proper diagnosis.',
                    recommendation: {
                        service: 'General Vehicle Inspection',
                        description: 'Our technicians will perform a comprehensive inspection of your vehicle to identify any issues and provide recommendations.',
                        cost: 75
                    }
                };
            }
        }
        
        // Show service recommendation box
        function showServiceRecommendation(recommendation) {
            document.getElementById('recommendationContent').innerHTML = 
                '<strong>' + recommendation.service + '</strong><br><br>' + recommendation.description;
            document.getElementById('costAmount').textContent = '$' + recommendation.cost;
            document.getElementById('serviceRecommendation').style.display = 'block';
        }
        
        // Handle form submission
        function handleFormSubmit(event) {
            event.preventDefault();
            
            // Show success message
            document.getElementById('successMessage').style.display = 'block';
            
            // Hide form
            event.target.style.display = 'none';
            
            // Scroll to success message
            document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
            
            // In a real implementation, you would:
            // - Send data to your backend
            // - Save to Supabase database
            // - Send confirmation emails
            // - Integrate with shop management system
        }
    </script>
</body>
</html>
